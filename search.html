<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Search — Enkyclo</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  font-family: system-ui;
  background: #0f1220;
  color: #e6e8f0;
}

header {
  padding: 60px 20px 30px;
  text-align: center;
  border-bottom: 1px solid #222653;
}

input {
  width: 90%;
  max-width: 520px;
  padding: 14px;
  font-size: 1rem;
  border-radius: 8px;
  border: none;
}

main {
  max-width: 860px;
  margin: auto;
  padding: 40px 20px 100px;
}

.result {
  padding: 18px 0;
  border-bottom: 1px solid #222653;
}

.result a {
  color: #4f6bff;
  font-size: 1.2rem;
  text-decoration: none;
}

.result p {
  color: #b7bbd9;
  margin-top: 6px;
}

#message {
  color: #8c90b8;
  margin-top: 30px;
}
</style>
</head>

<body>

<header>
  <h1>Search Enkyclo</h1>
  <input id="query" placeholder="Search topics…" autofocus>
</header>

<main id="results"></main>

<script src="data/articles.js"></script>

<script>
const input = document.getElementById("query");
const results = document.getElementById("results");

function search() {
  const q = input.value.trim().toLowerCase();
  results.innerHTML = "";

  if (!q) {
    results.innerHTML = "<p id='message'>Type a topic to search.</p>";
    return;
  }

  let found = false;

  for (const id in ARTICLES) {
    const a = ARTICLES[id];
    const text = (
      a.title +
      " " +
      (a.keywords || []).join(" ")
    ).toLowerCase();

    if (text.includes(q)) {
      found = true;

      const div = document.createElement("div");
      div.className = "result";
      div.innerHTML = `
        <a href="article.html?id=${id}">${a.title}</a>
        <p>${a.description || ""}</p>
      `;
      results.appendChild(div);
    }
  }

  if (!found) {
    results.innerHTML = "<p id='message'>No articles found.</p>";
  }
}

input.addEventListener("input", search);
</script>

</body>
</html>
